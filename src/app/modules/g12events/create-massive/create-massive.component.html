<div class="row">
  <div class="col-xl-12 col-sm-12">

    <div class="card card-custom example example-compact gutter-b">
      <div class="card-header d-flex">
        <div class="w-75">
          <div class="card-title d-block pb-2">
            <h3 class=" pt-4 pb-4">Crear Masivos</h3>
          </div>
        </div>
        <div class="card-toolbar">
          <div class="example-tools justify-content-center">
            <img src="assets/media/svg/icons/Shopping/Ticket.svg" alt="">

          </div>
        </div>
      </div>
      <!-- INICIO DEL FORMULARIO REACTIVO -->
      <form [formGroup]="masive_form">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-6 col-12">
              <div>
                <!-- //////////////////////////////////////// -->
                <!-- INICIO DEL GRUPO DE LOS DATOS DEL EVENTO -->
                <div formGroupName="event_information">
                  <h4 class="h4">Datos del Evento</h4>
                  <!-- SELECTOR DEL EVENTO -->
                  <div class="mt-5">
                    <mat-form-field appearance="fill" class="example-full-width">
                      <mat-label>Evento*</mat-label>
                      <mat-select type="select" formControlName="event">
                        <mat-option *ngFor="let event of events" [value]="event">{{event.name}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <div class="row">

                      <div class="col-sm-6 col-12">
                        <mat-form-field appearance="fill" class="example-full-width">
                          <mat-label>Corte*</mat-label>
                          <mat-select type="select" formControlName="cut">
                            <mat-option *ngFor="let cut of financial_cuts" [value]="cut">{{cut.name}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>

                      <div class="col-sm-6 col-12">
                        <mat-form-field class="example-full-width" appearance="fill">
                          <mat-label>Cantidad de cupos*</mat-label>
                          <input matInput autocomplete="off" type="number" min="1" formControlName="quantity_tickets" />
                        </mat-form-field>
                      </div>
                    </div>

                  </div>
                </div>
                <!-- FIN DE INFORMACION DEL EVENTO -->
                <!-- ////////////////////////////// -->

                <!-- ///////////////////////////////////////// -->
                <!-- INICIO DEL GRUPO DE LOS DATOS DEL DONANTE -->
                <div class="mt-5" formGroupName="donor">
                  <h4 class="h4">Datos del Donante</h4>
                  <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Pais*</mat-label>
                    <mat-select type="select" formControlName="country">
                      <mat-option *ngFor="let country of countries" [value]="country.name">{{country.name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <div class="row mt-5">
                    <div class="col-sm-6 col-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Documento*</mat-label>
                        <input matInput autocomplete="off" formControlName="document" />
                      </mat-form-field>
                    </div>
                    <div class="col-sm-6 col-12">
                      <mat-form-field appearance="fill" class="example-full-width">
                        <mat-label>Documento* </mat-label>
                        <mat-select type="select" formControlName="document_type">
                          <mat-option value="CC"> CC
                          </mat-option>
                          <mat-option value="CC"> TI
                          </mat-option>
                          <mat-option value="CE"> CE
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6 col-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Nombre*</mat-label>
                        <input matInput autocomplete="off" formControlName="name" />
                      </mat-form-field>
                    </div>
                    <div class="col-sm-6 col-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Apellido*</mat-label>
                        <input matInput autocomplete="off" formControlName="last_name" />
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-6 col-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Email*</mat-label>
                        <input matInput autocomplete="off" formControlName="email" />
                      </mat-form-field>
                    </div>
                    <div class="col-sm-6 col-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Telefono*</mat-label>
                        <input matInput autocomplete="off" formControlName="phone" />
                      </mat-form-field>
                    </div>
                  </div>

                  <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Direccion*</mat-label>
                    <input matInput autocomplete="off" formControlName="address" />
                  </mat-form-field>

                  <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Codigo Postal*</mat-label>
                    <input matInput autocomplete="off" formControlName="postal_code" />
                  </mat-form-field>

                </div>
                <!-- FIN DEL GRUPO DE LOS DATOS DEL DONANTE -->
                <!-- ///////////////////////////////////////// -->
              </div>

            </div>
            <div>
            </div>
            <!-- ///////////////////////////////////////// -->
            <!-- INICIO DE GRUPO DE INFORMACION DE DONACION -->
            <div class="col-sm-6 col-12" formGroupName="payment">
              <h4 class="h4">Información de Donación</h4>
              <div class="d-flex justify-content-center">
                {{masive_form.get('event_information').get('event').value?.name}}
              </div>
              <div class="row mt-5">
                <div class="col-sm-6 col-12">
                  <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Moneda</mat-label>
                    <input matInput autocomplete="off" formControlName="currency" />
                  </mat-form-field>
                </div>
                <div class="col-sm-6 col-12">
                  <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Valor</mat-label>
                    <input matInput autocomplete="off" formControlName="value" />
                  </mat-form-field>
                </div>
              </div>
              <div class="mt-5">
                <h4 class="h4">Medios de Donación</h4>
                <div class="d-flex flex-wrap">
                  <div class="card-payment p-5" [ngClass]="{'card-selected':payment == 'credit'}"
                    (click)="payment ='credit'">
                    <div class="d-flex justify-content-center">
                      <i class="far fa-credit-card fa-2x"></i>

                    </div>
                    <div class="d-flex justify-content-center mt-3">
                      Credito
                    </div>
                  </div>
                  <div class="card-payment p-5" [ngClass]="{'card-selected':payment == 'pse'}" (click)="payment ='pse'">
                    <div class="d-flex justify-content-center">
                      <i class="fas fa-exchange-alt fa-2x"></i>
                    </div>
                    <div class="d-flex justify-content-center mt-3">
                      Banco
                    </div>
                  </div>
                  <div class="card-payment p-5" [ngClass]="{'card-selected':payment == 'cash'}"
                    (click)="payment ='cash'">
                    <div class="d-flex justify-content-center">
                      <i class="fas fa-money-bill-wave fa-2x"></i>
                    </div>
                    <div class="d-flex justify-content-center mt-3">
                      Efectivo
                    </div>
                  </div>
                </div>
              </div>

              <!-- ///////////////// -->
              <!-- INICIO PAGO POR TARJETA DE CREDITO-->
              <div *ngIf="payment == 'credit'" formGroupName="credit" class="mt-5">
                <mat-form-field class="example-full-width" appearance="fill">
                  <mat-label>Numero de Tarjeta*</mat-label>
                  <input matInput autocomplete="off" formControlName="number" />
                </mat-form-field>

                <div class="row">
                  <div class="col-sm-9 col-12">
                    <mat-form-field class="example-full-width" appearance="fill">
                      <mat-label>Nombre de tarjeta*</mat-label>
                      <input matInput autocomplete="off" formControlName="name" />
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3 col-12">
                    <mat-form-field class="example-full-width" appearance="fill">
                      <mat-label>CVC*</mat-label>
                      <input matInput autocomplete="off" formControlName="code" />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6 col-12">
                    <mat-form-field appearance="fill" class="example-full-width">
                      <mat-label>Mes*</mat-label>
                      <mat-select type="select" formControlName="month">
                        <mat-option *ngFor="let month of monthsCreditCard" [value]="month.id">{{month.name}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 col-12">
                    <mat-form-field appearance="fill" class="example-full-width">
                      <mat-label>Año*</mat-label>
                      <mat-select type="select" formControlName="year">
                        <mat-option *ngFor="let year of yearsCreditCard" [value]="year.id">{{year.name}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <!-- FIN PAGO POR TARJETA DE CREDITO-->
              <!-- ///////////////////////////// -->

              <!-- ///////////////////////////// -->
              <!-- INICIO PAGO POR PSE-->
              <div class="mt-5" *ngIf="payment == 'pse'" formGroupName="pse">
                <mat-form-field appearance="fill" class="example-full-width">
                  <mat-label>Banco*</mat-label>
                  <mat-select type="select" formControlName="bank">
                    <mat-option *ngFor="let bank of pse_banks; let i = index" [value]="bank.bankCode" [disabled]="i==0">
                      {{bank.bankName}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill" class="example-full-width">
                  <mat-label>Tipo de persona*</mat-label>
                  <mat-select type="select" formControlName="type_person">
                    <mat-option value="0"> Persona Natural</mat-option>
                    <mat-option value="1"> Persona Juridica</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <!-- FIN PAGO POR PSE-->
              <!-- ///////////////////////////// -->

              <!-- ///////////////////////////// -->
              <!-- INICIO PAGO EFECTIVO-->
              <div class="mt-5" *ngIf="payment == 'cash'" formGroupName="cash">
                <mat-form-field appearance="fill" class="example-full-width">
                  <mat-label>Efectivo*</mat-label>
                  <mat-select type="select" formControlName="type_cash">
                    <mat-option value="EFECTY">Efecty</mat-option>
                    <mat-option value="BALOTO">Baloto</mat-option>
                    <mat-option value="OTHERS_CASH">Paga Todo</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <!-- FIN PAGO EFECTIVO-->
              <!-- ///////////////////////////// -->
              <button (click)="submit()"
                class="btn btn-sm btn-light-primary font-weight-bolder mt-5 py-2 px-5 cursor-pointer example-full-width"
                [disabled]="isLoading">
                <!-- VALIDAMOS EL LOADER -->
                <div class="spinner-border" role="status" *ngIf="isLoading">
                  <span class="sr-only">Loading...</span>
                </div>
                <div *ngIf="!isLoading">Realizar Donación</div>
              </button>
            </div>
            <!-- FIN DE GRUPO DE INFORMACION DE DONACION -->
            <!-- ///////////////////////////////////////// -->



          </div>
        </div>
      </form>
    </div>
  </div>
</div>
